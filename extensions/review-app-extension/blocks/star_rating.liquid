{{ 'star_rating.css' | asset_url | stylesheet_tag }}

{% assign pid = product.id %}
{% assign shop= shop.name %}
{% assign handle= product.handle %}
{% assign metafieldRating = product.metafields.itgeeks_reviews.average_rating.value %}
{% assign metafieldCount = product.metafields.itgeeks_reviews.review_count %}
<html>
  <head>
    <title>
    </title>
  </head>
  <body>
    <div id='info-section' onclick='scrollToReviews()'>
      <div id='review-rating-section'>
      <div>
        <p id='rating-count-block'></p>
      </div>
         <div id="review-list">
        </div>
      <div id='review-count-section'>
        <p id='review-count-block'></p>
      </div>
      </div>
    </div>
  </body>
</html>

  <script src="{{ '../assets/star_rating.js' | asset_url }}">

  </script>
    <script>
     document.addEventListener('DOMContentLoaded', function() {
      test('{{ shop }}', '{{handle}}' , '{{metafieldRating}}', '{{metafieldCount}}'); 
    });
    console.log('{{metafieldCount}}','hereff')
  </script>

{% schema %}
{
  "name": "Star Rating",
  "target": "section",
  "settings": [
    { "type": "product", "id": "product", "label": "product", "autofill": true },
    { "type": "color", "id": "colour", "label": "Star Colour", "default": "#ff0000" }
  ]
}
{% endschema %}

